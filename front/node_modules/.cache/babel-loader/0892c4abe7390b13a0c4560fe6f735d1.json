{"ast":null,"code":"import _slicedToArray from\"C:\\\\dev\\\\mesto-react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import logoPath from\"../images/logo.svg\";import React from\"react\";import{useHistory,Link}from'react-router-dom';import{HeaderContext}from\"../contexts/HeaderContext\";export default function Header(props){var headerContext=React.useContext(HeaderContext);var _React$useState=React.useState(1),_React$useState2=_slicedToArray(_React$useState,2),opacity=_React$useState2[0],setOpacity=_React$useState2[1];var history=useHistory();var linkStyle={color:'white',textDecoration:'none',transition:'opacity .15s linear',opacity:opacity,marginLeft:24};function handleMouseEnter(){setOpacity(0.6);}function handleMouseLeave(){setOpacity(1);}function handleSignOut(){props.onSignOut();localStorage.removeItem('token');history.push('/signin');}function handleLinkClick(){if(headerContext.text==='Войти'){props.onHeaderChange('login');}if(headerContext.text==='Регистрация'){props.onHeaderChange('register');}console.log(headerContext);}return/*#__PURE__*/React.createElement(\"header\",{className:\"header\"},/*#__PURE__*/React.createElement(\"img\",{src:logoPath,alt:\"\\u041B\\u043E\\u0433\\u043E\\u0442\\u0438\\u043F \\u0441\\u0435\\u0440\\u0432\\u0438\\u0441\\u0430 Mesto\",className:\"header__logo\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"header__container\"},/*#__PURE__*/React.createElement(\"p\",{className:\"header__auth\"},props.loggedIn?\"\".concat(props.email,\" \"):/*#__PURE__*/React.createElement(Link,{to:headerContext.redirectPath,style:linkStyle,onMouseEnter:handleMouseEnter,onMouseLeave:handleMouseLeave,onClick:handleLinkClick},headerContext.text)),props.loggedIn&&/*#__PURE__*/React.createElement(Link,{to:\"\",style:linkStyle,onMouseEnter:handleMouseEnter,onMouseLeave:handleMouseLeave,onClick:handleSignOut},\"\\u0412\\u044B\\u0439\\u0442\\u0438\")));}","map":{"version":3,"sources":["C:/dev/mesto-react/src/components/Header.js"],"names":["React","useHistory","Link","HeaderContext","Header","props","headerContext","useContext","useState","opacity","setOpacity","history","linkStyle","color","textDecoration","transition","marginLeft","handleMouseEnter","handleMouseLeave","handleSignOut","onSignOut","localStorage","removeItem","push","handleLinkClick","text","onHeaderChange","console","log","logoPath","loggedIn","email","redirectPath"],"mappings":"yLACA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,UAAT,CAAqBC,IAArB,KAAiC,kBAAjC,CACA,OAASC,aAAT,KAA8B,2BAA9B,CAEA,cAAe,SAASC,CAAAA,MAAT,CAAgBC,KAAhB,CAAuB,CACpC,GAAMC,CAAAA,aAAa,CAAGN,KAAK,CAACO,UAAN,CAAiBJ,aAAjB,CAAtB,CADoC,oBAENH,KAAK,CAACQ,QAAN,CAAe,CAAf,CAFM,oDAE7BC,OAF6B,qBAEpBC,UAFoB,qBAGpC,GAAMC,CAAAA,OAAO,CAAGV,UAAU,EAA1B,CAEA,GAAMW,CAAAA,SAAS,CAAG,CAChBC,KAAK,CAAE,OADS,CAEhBC,cAAc,CAAE,MAFA,CAGhBC,UAAU,CAAE,qBAHI,CAIhBN,OAAO,CAAEA,OAJO,CAKhBO,UAAU,CAAE,EALI,CAAlB,CAQA,QAASC,CAAAA,gBAAT,EAA4B,CAC1BP,UAAU,CAAC,GAAD,CAAV,CACD,CAED,QAASQ,CAAAA,gBAAT,EAA4B,CAC1BR,UAAU,CAAC,CAAD,CAAV,CACD,CAED,QAASS,CAAAA,aAAT,EAAyB,CACvBd,KAAK,CAACe,SAAN,GACAC,YAAY,CAACC,UAAb,CAAwB,OAAxB,EACAX,OAAO,CAACY,IAAR,CAAa,SAAb,EACD,CAED,QAASC,CAAAA,eAAT,EAA2B,CACzB,GAAIlB,aAAa,CAACmB,IAAd,GAAuB,OAA3B,CAAoC,CAClCpB,KAAK,CAACqB,cAAN,CAAqB,OAArB,EACD,CACD,GAAIpB,aAAa,CAACmB,IAAd,GAAuB,aAA3B,CAA0C,CACxCpB,KAAK,CAACqB,cAAN,CAAqB,UAArB,EACD,CACDC,OAAO,CAACC,GAAR,CAAYtB,aAAZ,EACD,CAED,mBACI,8BAAQ,SAAS,CAAC,QAAlB,eACI,2BAAK,GAAG,CAAEuB,QAAV,CACK,GAAG,CAAC,6FADT,CAEK,SAAS,CAAC,cAFf,EADJ,cAMI,2BAAK,SAAS,CAAC,mBAAf,eACE,yBAAG,SAAS,CAAC,cAAb,EACIxB,KAAK,CAACyB,QAAN,WACMzB,KAAK,CAAC0B,KADZ,mBAGE,oBAAC,IAAD,EAAM,EAAE,CAAEzB,aAAa,CAAC0B,YAAxB,CACM,KAAK,CAAEpB,SADb,CAEM,YAAY,CAAEK,gBAFpB,CAGM,YAAY,CAAEC,gBAHpB,CAIM,OAAO,CAAEM,eAJf,EAMGlB,aAAa,CAACmB,IANjB,CAJN,CADF,CAgBGpB,KAAK,CAACyB,QAAN,eAAkB,oBAAC,IAAD,EAAM,EAAE,CAAC,EAAT,CACG,KAAK,CAAElB,SADV,CAEG,YAAY,CAAEK,gBAFjB,CAGG,YAAY,CAAEC,gBAHjB,CAIG,OAAO,CAAEC,aAJZ,mCAhBrB,CANJ,CADJ,CAkCD","sourcesContent":["import logoPath from \"../images/logo.svg\";\nimport React from \"react\";\nimport { useHistory, Link } from 'react-router-dom';\nimport { HeaderContext } from \"../contexts/HeaderContext\";\n\nexport default function Header(props) {\n  const headerContext = React.useContext(HeaderContext);\n  const [opacity, setOpacity] = React.useState(1);\n  const history = useHistory();\n\n  const linkStyle = {\n    color: 'white',\n    textDecoration: 'none',\n    transition: 'opacity .15s linear',\n    opacity: opacity,\n    marginLeft: 24\n  }\n\n  function handleMouseEnter() {\n    setOpacity(0.6);\n  }\n\n  function handleMouseLeave() {\n    setOpacity(1);\n  }\n\n  function handleSignOut() {\n    props.onSignOut();\n    localStorage.removeItem('token');\n    history.push('/signin');\n  }\n\n  function handleLinkClick() {\n    if (headerContext.text === 'Войти') {\n      props.onHeaderChange('login')\n    }\n    if (headerContext.text === 'Регистрация') {\n      props.onHeaderChange('register')\n    }\n    console.log(headerContext);\n  }\n\n  return (\n      <header className=\"header\">\n          <img src={logoPath}\n               alt=\"Логотип сервиса Mesto\"\n               className=\"header__logo\"\n          />\n\n          <div className=\"header__container\">\n            <p className=\"header__auth\">\n              { props.loggedIn\n                ? (`${props.email} `)\n                : (\n                  <Link to={headerContext.redirectPath}\n                        style={linkStyle}\n                        onMouseEnter={handleMouseEnter}\n                        onMouseLeave={handleMouseLeave}\n                        onClick={handleLinkClick}\n                  >\n                    {headerContext.text}\n                  </Link>\n                )\n              }\n            </p>\n            {props.loggedIn && <Link to=\"\"\n                                  style={linkStyle}\n                                  onMouseEnter={handleMouseEnter}\n                                  onMouseLeave={handleMouseLeave}\n                                  onClick={handleSignOut}\n            >\n              Выйти\n            </Link>}\n          </div>\n      </header>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}