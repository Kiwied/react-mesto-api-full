{"ast":null,"code":"import _slicedToArray from\"C:\\\\dev\\\\mesto-react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React from\"react\";import{api}from\"../utils/Api.js\";import Card from\"./Card.js\";export default function Main(props){var _React$useState=React.useState(''),_React$useState2=_slicedToArray(_React$useState,2),userName=_React$useState2[0],setUserName=_React$useState2[1];var _React$useState3=React.useState(''),_React$useState4=_slicedToArray(_React$useState3,2),userDescription=_React$useState4[0],setUserDescription=_React$useState4[1];var _React$useState5=React.useState(''),_React$useState6=_slicedToArray(_React$useState5,2),userAvatar=_React$useState6[0],setUserAvatar=_React$useState6[1];var _React$useState7=React.useState([]),_React$useState8=_slicedToArray(_React$useState7,2),cards=_React$useState8[0],setCards=_React$useState8[1];React.useEffect(function(){api.getUserInfo().then(function(res){setUserName(res.name);setUserDescription(res.about);setUserAvatar(res.avatar);}).catch(function(err){console.log(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(err));});api.getInitialCards().then(function(res){setCards(res);}).catch(function(err){console.log(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(err));});},[]);return/*#__PURE__*/React.createElement(\"main\",null,/*#__PURE__*/React.createElement(\"section\",{className:\"profile\"},/*#__PURE__*/React.createElement(\"div\",{className:\"profile__main\"},/*#__PURE__*/React.createElement(\"div\",{className:\"profile__avatar-container\",onClick:props.onEditAvatar},/*#__PURE__*/React.createElement(\"img\",{alt:\"\\u0410\\u0432\\u0430\\u0442\\u0430\\u0440 \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044F\",className:\"profile__avatar\",src:userAvatar}),/*#__PURE__*/React.createElement(\"div\",{className:\"profile__avatar_overlay\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"profile__info\"},/*#__PURE__*/React.createElement(\"div\",{className:\"profile__row\"},/*#__PURE__*/React.createElement(\"h2\",{className:\"profile__name\"},userName),/*#__PURE__*/React.createElement(\"button\",{onClick:props.onEditProfile,type:\"button\",className:\"profile__edit\"})),/*#__PURE__*/React.createElement(\"p\",{className:\"profile__description\"},userDescription))),/*#__PURE__*/React.createElement(\"button\",{onClick:props.onAddPlace,type:\"button\",className:\"profile__add\"})),/*#__PURE__*/React.createElement(\"section\",null,/*#__PURE__*/React.createElement(\"ul\",{className:\"elements\"},cards.map(function(currentCard){return/*#__PURE__*/React.createElement(Card,{card:currentCard,key:currentCard._id,onCardClick:props.onCardClick});}))));}","map":{"version":3,"sources":["C:/dev/mesto-react/src/components/Main.js"],"names":["React","api","Card","Main","props","useState","userName","setUserName","userDescription","setUserDescription","userAvatar","setUserAvatar","cards","setCards","useEffect","getUserInfo","then","res","name","about","avatar","catch","err","console","log","getInitialCards","onEditAvatar","onEditProfile","onAddPlace","map","currentCard","_id","onCardClick"],"mappings":"gJAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,GAAT,KAAoB,iBAApB,CACA,MAAOC,CAAAA,IAAP,KAAiB,WAAjB,CAEA,cAAe,SAASC,CAAAA,IAAT,CAAcC,KAAd,CAAqB,qBAEFJ,KAAK,CAACK,QAAN,CAAe,EAAf,CAFE,oDAE3BC,QAF2B,qBAEjBC,WAFiB,0CAGYP,KAAK,CAACK,QAAN,CAAe,EAAf,CAHZ,qDAG3BG,eAH2B,qBAGVC,kBAHU,0CAIET,KAAK,CAACK,QAAN,CAAe,EAAf,CAJF,qDAI3BK,UAJ2B,qBAIfC,aAJe,0CAKRX,KAAK,CAACK,QAAN,CAAe,EAAf,CALQ,qDAK3BO,KAL2B,qBAKpBC,QALoB,qBAOlCb,KAAK,CAACc,SAAN,CAAgB,UAAM,CACpBb,GAAG,CAACc,WAAJ,GACKC,IADL,CACU,SAAAC,GAAG,CAAI,CACXV,WAAW,CAACU,GAAG,CAACC,IAAL,CAAX,CACAT,kBAAkB,CAACQ,GAAG,CAACE,KAAL,CAAlB,CACAR,aAAa,CAACM,GAAG,CAACG,MAAL,CAAb,CACD,CALL,EAMKC,KANL,CAMW,SAAAC,GAAG,CAAI,CACZC,OAAO,CAACC,GAAR,iDAAuBF,GAAvB,GACD,CARL,EAUArB,GAAG,CAACwB,eAAJ,GACKT,IADL,CACU,SAAAC,GAAG,CAAI,CACXJ,QAAQ,CAACI,GAAD,CAAR,CACD,CAHL,EAIKI,KAJL,CAIW,SAAAC,GAAG,CAAI,CACVC,OAAO,CAACC,GAAR,iDAAuBF,GAAvB,GACH,CANL,EAOD,CAlBD,CAkBG,EAlBH,EAoBA,mBACE,6CACE,+BAAS,SAAS,CAAC,SAAnB,eACE,2BAAK,SAAS,CAAC,eAAf,eACE,2BAAK,SAAS,CAAC,2BAAf,CACK,OAAO,CAAElB,KAAK,CAACsB,YADpB,eAEE,2BACE,GAAG,CAAC,iFADN,CAEE,SAAS,CAAC,iBAFZ,CAGE,GAAG,CAAEhB,UAHP,EAFF,cAOE,2BAAK,SAAS,CAAC,yBAAf,EAPF,CADF,cAUE,2BAAK,SAAS,CAAC,eAAf,eACE,2BAAK,SAAS,CAAC,cAAf,eACE,0BAAI,SAAS,CAAC,eAAd,EAA+BJ,QAA/B,CADF,cAEE,8BACE,OAAO,CAAEF,KAAK,CAACuB,aADjB,CAEE,IAAI,CAAC,QAFP,CAGE,SAAS,CAAC,eAHZ,EAFF,CADF,cASE,yBAAG,SAAS,CAAC,sBAAb,EAAqCnB,eAArC,CATF,CAVF,CADF,cAuBE,8BACE,OAAO,CAAEJ,KAAK,CAACwB,UADjB,CAEE,IAAI,CAAC,QAFP,CAGE,SAAS,CAAC,cAHZ,EAvBF,CADF,cA+BE,gDACE,0BAAI,SAAS,CAAC,UAAd,EACGhB,KAAK,CAACiB,GAAN,CAAU,SAAAC,WAAW,qBACpB,oBAAC,IAAD,EACE,IAAI,CAAEA,WADR,CAEE,GAAG,CAAEA,WAAW,CAACC,GAFnB,CAGE,WAAW,CAAE3B,KAAK,CAAC4B,WAHrB,EADoB,EAArB,CADH,CADF,CA/BF,CADF,CA6CD","sourcesContent":["import React from \"react\";\r\nimport { api } from \"../utils/Api.js\";\r\nimport Card from \"./Card.js\";\r\n\r\nexport default function Main(props) {\r\n\r\n  const [userName, setUserName] = React.useState('')\r\n  const [userDescription, setUserDescription] = React.useState('')\r\n  const [userAvatar, setUserAvatar] = React.useState('')\r\n  const [cards, setCards] = React.useState([])\r\n\r\n  React.useEffect(() => {\r\n    api.getUserInfo()\r\n        .then(res => {\r\n          setUserName(res.name);\r\n          setUserDescription(res.about);\r\n          setUserAvatar(res.avatar);\r\n        })\r\n        .catch(err => {\r\n          console.log(`Ошибка: ${err}`)\r\n        })\r\n\r\n    api.getInitialCards()\r\n        .then(res => {\r\n          setCards(res);\r\n        })\r\n        .catch(err => {\r\n            console.log(`Ошибка: ${err}`)\r\n        });\r\n  }, [])\r\n\r\n  return (\r\n    <main>\r\n      <section className=\"profile\">\r\n        <div className=\"profile__main\">\r\n          <div className=\"profile__avatar-container\"\r\n               onClick={props.onEditAvatar}>\r\n            <img\r\n              alt=\"Аватар профиля\"\r\n              className=\"profile__avatar\"\r\n              src={userAvatar}\r\n            />\r\n            <div className=\"profile__avatar_overlay\"/>\r\n          </div>\r\n          <div className=\"profile__info\">\r\n            <div className=\"profile__row\">\r\n              <h2 className=\"profile__name\">{userName}</h2>\r\n              <button\r\n                onClick={props.onEditProfile}\r\n                type=\"button\"\r\n                className=\"profile__edit\">\r\n              </button>\r\n            </div>\r\n            <p className=\"profile__description\">{userDescription}</p>\r\n          </div>\r\n        </div>\r\n        <button\r\n          onClick={props.onAddPlace}\r\n          type=\"button\"\r\n          className=\"profile__add\">\r\n        </button>\r\n      </section>\r\n\r\n      <section>\r\n        <ul className=\"elements\">\r\n          {cards.map(currentCard => (\r\n            <Card\r\n              card={currentCard}\r\n              key={currentCard._id}\r\n              onCardClick={props.onCardClick}\r\n            />\r\n          ))}\r\n        </ul>\r\n      </section>\r\n    </main>\r\n  )\r\n}"]},"metadata":{},"sourceType":"module"}