{"ast":null,"code":"import _classCallCheck from\"C:\\\\dev\\\\mesto-react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\dev\\\\mesto-react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import{apiInfo}from\"./utils.js\";var Api=/*#__PURE__*/function(){function Api(_ref){var baseUrl=_ref.baseUrl,headers=_ref.headers;_classCallCheck(this,Api);this._baseUrl=baseUrl;this._headers=headers;}_createClass(Api,[{key:\"_checkResponseData\",value:function _checkResponseData(res){if(res.ok){return res.json();}else{return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status));}}},{key:\"getInitialCards\",value:function getInitialCards(){var _this=this;return fetch(\"\".concat(this._baseUrl,\"/cards\"),{headers:this._headers}).then(function(res){return _this._checkResponseData(res);});}},{key:\"getUserInfo\",value:function getUserInfo(){var _this2=this;return fetch(\"\".concat(this._baseUrl,\"/users/me\"),{headers:this._headers}).then(function(res){return _this2._checkResponseData(res);});}},{key:\"setNewUserInfo\",value:function setNewUserInfo(_ref2){var _this3=this;var name=_ref2.name,about=_ref2.about;return fetch(\"\".concat(this._baseUrl,\"/users/me\"),{method:'PATCH',headers:this._headers,body:JSON.stringify({name:name,about:about})}).then(function(res){return _this3._checkResponseData(res);});}},{key:\"setNewAvatar\",value:function setNewAvatar(_ref3){var _this4=this;var avatar=_ref3.avatar;return fetch(\"\".concat(this._baseUrl,\"/users/me/avatar\"),{method:'PATCH',headers:this._headers,body:JSON.stringify({avatar:avatar})}).then(function(res){return _this4._checkResponseData(res);});}},{key:\"addNewCard\",value:function addNewCard(_ref4){var _this5=this;var name=_ref4.name,link=_ref4.link;return fetch(\"\".concat(this._baseUrl,\"/cards\"),{method:'POST',headers:this._headers,body:JSON.stringify({name:name,link:link})}).then(function(res){return _this5._checkResponseData(res);});}},{key:\"like\",value:function like(cardId){var _this6=this;return fetch(\"\".concat(this._baseUrl,\"/cards/likes/\").concat(cardId),{method:'PUT',headers:this._headers}).then(function(res){return _this6._checkResponseData(res);});}},{key:\"dislike\",value:function dislike(cardId){var _this7=this;return fetch(\"\".concat(this._baseUrl,\"/cards/likes/\").concat(cardId),{method:'DELETE',headers:this._headers}).then(function(res){return _this7._checkResponseData(res);});}},{key:\"delete\",value:function _delete(cardId){var _this8=this;return fetch(\"\".concat(this._baseUrl,\"/cards/\").concat(cardId),{method:'DELETE',headers:this._headers}).then(function(res){return _this8._checkResponseData(res);});}}]);return Api;}();export var api=new Api(apiInfo);","map":{"version":3,"sources":["C:/dev/mesto-react/src/utils/Api.js"],"names":["apiInfo","Api","baseUrl","headers","_baseUrl","_headers","res","ok","json","Promise","reject","status","fetch","then","_checkResponseData","name","about","method","body","JSON","stringify","avatar","link","cardId","api"],"mappings":"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","sourcesContent":["import { apiInfo } from \"./utils.js\";\n\nclass Api {\n  constructor({ baseUrl, headers }) {\n    this._baseUrl = baseUrl;\n    this._headers = headers;\n  }\n\n  _checkResponseData(res) {\n    if (res.ok) {\n      return res.json()\n    } else {\n      return Promise.reject(`Ошибка: ${res.status}`);\n    }\n  }\n\n  getInitialCards() {\n    return fetch(`${this._baseUrl}/cards`, {\n      headers: this._headers\n    })\n      .then(res => this._checkResponseData(res))\n  }\n\n  getUserInfo() {\n    return fetch(`${this._baseUrl}/users/me`, {\n      headers: this._headers\n    })\n      .then(res => this._checkResponseData(res))\n  }\n\n  setNewUserInfo({ name, about }) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: name,\n        about: about\n      })\n    })\n      .then(res => this._checkResponseData(res))\n  }\n\n  setNewAvatar({ avatar }) {\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: avatar\n      })\n    })\n      .then(res => this._checkResponseData(res))\n  }\n\n  addNewCard({ name, link }) {\n    return fetch(`${this._baseUrl}/cards`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: name,\n        link: link\n      })\n    })\n      .then(res => this._checkResponseData(res))\n  }\n\n  like(cardId) {\n    return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\n      method: 'PUT',\n      headers: this._headers\n    })\n      .then(res => this._checkResponseData(res))\n  }\n\n  dislike(cardId) {\n    return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\n      method: 'DELETE',\n      headers: this._headers\n    })\n      .then(res => this._checkResponseData(res))\n  }\n\n  delete(cardId) {\n    return fetch(`${this._baseUrl}/cards/${cardId}`, {\n      method: 'DELETE',\n      headers: this._headers\n    })\n      .then(res => this._checkResponseData(res))\n  }\n}\n\nexport const api = new Api(apiInfo);\n\n\n"]},"metadata":{},"sourceType":"module"}