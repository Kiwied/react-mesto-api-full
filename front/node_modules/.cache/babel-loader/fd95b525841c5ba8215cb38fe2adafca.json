{"ast":null,"code":"var _jsxFileName = \"C:\\\\dev\\\\mesto-react\\\\src\\\\components\\\\Main.js\";\nimport React from \"react\";\nimport { api } from \"../utils/Api.js\";\nimport Card from \"./Card.js\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nexport default function Main(props) {\n  //const [cards, setCards] = React.useState([]);\n  const currentUser = React.useContext(CurrentUserContext); //  React.useEffect(() => {\n  //    api.getInitialCards()\n  //        .then(res => {\n  //          setCards(res);\n  //        })\n  //        .catch(err => {\n  //            console.log(`Ошибка: ${err}`)\n  //        });\n  //  }, [])\n  //\n  //  function handleCardLike(card) {\n  //    const isLiked = card.likes.some(i => i._id === currentUser._id);\n  //    (isLiked ? api.dislike(card._id) : api.like(card._id))\n  //      .then((likedCard) => {\n  //        const newCards = cards.map((currentCard) =>\n  //          currentCard._id === card._id ? likedCard : currentCard\n  //        );\n  //        setCards(newCards);\n  //      })\n  //      .catch(err => {\n  //        console.log(`Ошибка: ${err}`)\n  //      });\n  //  }\n  //\n  //  function handleCardDelete(card) {\n  //    api.delete(card._id)\n  //      .then(() => {\n  //        const newCards = cards.filter(currentCard =>\n  //          currentCard._id !== card._id\n  //        );\n  //        setCards(newCards);\n  //      })\n  //      .catch(err => {\n  //        console.log(`Ошибка: ${err}`)\n  //      });\n  //  }\n\n  return /*#__PURE__*/React.createElement(\"main\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"section\", {\n    className: \"profile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile__main\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile__avatar-container\",\n    onClick: props.onEditAvatar,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    alt: \"\\u0410\\u0432\\u0430\\u0442\\u0430\\u0440 \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044F\",\n    className: \"profile__avatar\",\n    src: currentUser.avatar,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile__avatar_overlay\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile__info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile__row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"profile__name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 15\n    }\n  }, currentUser.name), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: props.onEditProfile,\n    type: \"button\",\n    className: \"profile__edit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"profile__description\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }\n  }, currentUser.about))), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: props.onAddPlace,\n    type: \"button\",\n    className: \"profile__add\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"section\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"elements\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }\n  }, cards.map(currentCard => /*#__PURE__*/React.createElement(Card, {\n    card: currentCard,\n    key: currentCard._id,\n    onCardClick: props.onCardClick,\n    onCardLike: handleCardLike,\n    onCardDelete: handleCardDelete,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }\n  })))));\n}","map":{"version":3,"sources":["C:/dev/mesto-react/src/components/Main.js"],"names":["React","api","Card","CurrentUserContext","Main","props","currentUser","useContext","onEditAvatar","avatar","name","onEditProfile","about","onAddPlace","cards","map","currentCard","_id","onCardClick","handleCardLike","handleCardDelete"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,GAAT,QAAoB,iBAApB;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,SAAQC,kBAAR,QAAiC,gCAAjC;AAEA,eAAe,SAASC,IAAT,CAAcC,KAAd,EAAqB;AAClC;AAEA,QAAMC,WAAW,GAAGN,KAAK,CAACO,UAAN,CAAiBJ,kBAAjB,CAApB,CAHkC,CAKpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEE,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAS,IAAA,SAAS,EAAC,SAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,2BAAf;AACK,IAAA,OAAO,EAAEE,KAAK,CAACG,YADpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEE;AACE,IAAA,GAAG,EAAC,iFADN;AAEE,IAAA,SAAS,EAAC,iBAFZ;AAGE,IAAA,GAAG,EAAEF,WAAW,CAACG,MAHnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,eAOE;AAAK,IAAA,SAAS,EAAC,yBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPF,CADF,eAUE;AAAK,IAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAI,IAAA,SAAS,EAAC,eAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA+BH,WAAW,CAACI,IAA3C,CADF,eAEE;AACE,IAAA,OAAO,EAAEL,KAAK,CAACM,aADjB;AAEE,IAAA,IAAI,EAAC,QAFP;AAGE,IAAA,SAAS,EAAC,eAHZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CADF,eASE;AAAG,IAAA,SAAS,EAAC,sBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAqCL,WAAW,CAACM,KAAjD,CATF,CAVF,CADF,eAuBE;AACE,IAAA,OAAO,EAAEP,KAAK,CAACQ,UADjB;AAEE,IAAA,IAAI,EAAC,QAFP;AAGE,IAAA,SAAS,EAAC,cAHZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAvBF,CADF,eA+BE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAI,IAAA,SAAS,EAAC,UAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGC,KAAK,CAACC,GAAN,CAAUC,WAAW,iBACpB,oBAAC,IAAD;AACE,IAAA,IAAI,EAAEA,WADR;AAEE,IAAA,GAAG,EAAEA,WAAW,CAACC,GAFnB;AAGE,IAAA,WAAW,EAAEZ,KAAK,CAACa,WAHrB;AAIE,IAAA,UAAU,EAAEC,cAJd;AAKE,IAAA,YAAY,EAAEC,gBALhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD,CADH,CADF,CA/BF,CADF;AA+CD","sourcesContent":["import React from \"react\";\nimport { api } from \"../utils/Api.js\";\nimport Card from \"./Card.js\";\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\n\nexport default function Main(props) {\n  //const [cards, setCards] = React.useState([]);\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n//  React.useEffect(() => {\n//    api.getInitialCards()\n//        .then(res => {\n//          setCards(res);\n//        })\n//        .catch(err => {\n//            console.log(`Ошибка: ${err}`)\n//        });\n//  }, [])\n//\n//  function handleCardLike(card) {\n//    const isLiked = card.likes.some(i => i._id === currentUser._id);\n//    (isLiked ? api.dislike(card._id) : api.like(card._id))\n//      .then((likedCard) => {\n//        const newCards = cards.map((currentCard) =>\n//          currentCard._id === card._id ? likedCard : currentCard\n//        );\n//        setCards(newCards);\n//      })\n//      .catch(err => {\n//        console.log(`Ошибка: ${err}`)\n//      });\n//  }\n//\n//  function handleCardDelete(card) {\n//    api.delete(card._id)\n//      .then(() => {\n//        const newCards = cards.filter(currentCard =>\n//          currentCard._id !== card._id\n//        );\n//        setCards(newCards);\n//      })\n//      .catch(err => {\n//        console.log(`Ошибка: ${err}`)\n//      });\n//  }\n\n  return (\n    <main>\n      <section className=\"profile\">\n        <div className=\"profile__main\">\n          <div className=\"profile__avatar-container\"\n               onClick={props.onEditAvatar}>\n            <img\n              alt=\"Аватар профиля\"\n              className=\"profile__avatar\"\n              src={currentUser.avatar}\n            />\n            <div className=\"profile__avatar_overlay\"/>\n          </div>\n          <div className=\"profile__info\">\n            <div className=\"profile__row\">\n              <h2 className=\"profile__name\">{currentUser.name}</h2>\n              <button\n                onClick={props.onEditProfile}\n                type=\"button\"\n                className=\"profile__edit\">\n              </button>\n            </div>\n            <p className=\"profile__description\">{currentUser.about}</p>\n          </div>\n        </div>\n        <button\n          onClick={props.onAddPlace}\n          type=\"button\"\n          className=\"profile__add\">\n        </button>\n      </section>\n\n      <section>\n        <ul className=\"elements\">\n          {cards.map(currentCard => (\n            <Card\n              card={currentCard}\n              key={currentCard._id}\n              onCardClick={props.onCardClick}\n              onCardLike={handleCardLike}\n              onCardDelete={handleCardDelete}\n            />\n          ))}\n        </ul>\n      </section>\n    </main>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}