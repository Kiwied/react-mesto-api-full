{"ast":null,"code":"import _slicedToArray from\"C:\\\\dev\\\\mesto-react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import PopupWithForm from\"./PopupWithForm\";import React from\"react\";import{CurrentUserContext}from\"../contexts/CurrentUserContext\";export default function EditProfilePopup(props){var _React$useState=React.useState(''),_React$useState2=_slicedToArray(_React$useState,2),name=_React$useState2[0],setName=_React$useState2[1];var _React$useState3=React.useState(''),_React$useState4=_slicedToArray(_React$useState3,2),description=_React$useState4[0],setDescription=_React$useState4[1];var currentUser=React.useContext(CurrentUserContext);React.useEffect(function(){setName(currentUser.name);setDescription(currentUser.about);},[currentUser]);function handleNameChange(evt){setName(evt.target.value);}function handleDescriptionChange(evt){setDescription(evt.target.value);}function handleSubmit(evt){evt.preventDefault();props.onUpdateUser({name:name,about:description});}return/*#__PURE__*/React.createElement(PopupWithForm,{isOpen:props.isOpen,onClose:props.onClose,onSubmit:handleSubmit,name:\"profile\",title:\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\",button:\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\",children:/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"input\",{type:\"text\",id:\"name-input\",name:\"name\",placeholder:\"\\u0418\\u043C\\u044F\",value:name,onChange:handleNameChange,className:\"form__input form__input_name\",minLength:\"2\",maxLength:\"40\",pattern:\"^[A-Za-z\\u0410-\\u042F\\u0430-\\u044F\\u0401\\u0451 \\\\-]+$\",required:true}),/*#__PURE__*/React.createElement(\"span\",{className:\"form__input-error\",id:\"name-input-error\"}),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",id:\"description-input\",name:\"about\",placeholder:\"\\u041E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435\",value:description,onChange:handleDescriptionChange,className:\"form__input form__input_description\",minLength:\"2\",maxLength:\"200\",pattern:\"^[A-Za-z\\u0410-\\u042F\\u0430-\\u044F\\u0401\\u0451, \\\\-]+$\",required:true}),/*#__PURE__*/React.createElement(\"span\",{className:\"form__input-error\",id:\"description-input-error\"}))});}","map":{"version":3,"sources":["C:/dev/mesto-react/src/components/EditProfilePopup.js"],"names":["PopupWithForm","React","CurrentUserContext","EditProfilePopup","props","useState","name","setName","description","setDescription","currentUser","useContext","useEffect","about","handleNameChange","evt","target","value","handleDescriptionChange","handleSubmit","preventDefault","onUpdateUser","isOpen","onClose"],"mappings":"gJAAA,MAAOA,CAAAA,aAAP,KAA0B,iBAA1B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,kBAAT,KAAmC,gCAAnC,CAEA,cAAe,SAASC,CAAAA,gBAAT,CAA0BC,KAA1B,CAAiC,qBACtBH,KAAK,CAACI,QAAN,CAAe,EAAf,CADsB,oDACvCC,IADuC,qBACjCC,OADiC,0CAERN,KAAK,CAACI,QAAN,CAAe,EAAf,CAFQ,qDAEvCG,WAFuC,qBAE1BC,cAF0B,qBAI9C,GAAMC,CAAAA,WAAW,CAAGT,KAAK,CAACU,UAAN,CAAiBT,kBAAjB,CAApB,CAEAD,KAAK,CAACW,SAAN,CAAgB,UAAM,CACpBL,OAAO,CAACG,WAAW,CAACJ,IAAb,CAAP,CACAG,cAAc,CAACC,WAAW,CAACG,KAAb,CAAd,CACD,CAHD,CAGG,CAACH,WAAD,CAHH,EAKA,QAASI,CAAAA,gBAAT,CAA0BC,GAA1B,CAA+B,CAC7BR,OAAO,CAACQ,GAAG,CAACC,MAAJ,CAAWC,KAAZ,CAAP,CACD,CAED,QAASC,CAAAA,uBAAT,CAAiCH,GAAjC,CAAsC,CACpCN,cAAc,CAACM,GAAG,CAACC,MAAJ,CAAWC,KAAZ,CAAd,CACD,CAGD,QAASE,CAAAA,YAAT,CAAsBJ,GAAtB,CAA2B,CACzBA,GAAG,CAACK,cAAJ,GAEAhB,KAAK,CAACiB,YAAN,CAAmB,CACjBf,IAAI,CAAEA,IADW,CAEjBO,KAAK,CAAEL,WAFU,CAAnB,EAID,CAED,mBACE,oBAAC,aAAD,EACE,MAAM,CAAEJ,KAAK,CAACkB,MADhB,CAEE,OAAO,CAAElB,KAAK,CAACmB,OAFjB,CAGE,QAAQ,CAAEJ,YAHZ,CAIE,IAAI,CAAC,SAJP,CAKE,KAAK,CAAC,2HALR,CAME,MAAM,CAAC,wDANT,CAOE,QAAQ,cACN,qDACE,6BACE,IAAI,CAAC,MADP,CAEE,EAAE,CAAC,YAFL,CAGE,IAAI,CAAC,MAHP,CAIE,WAAW,CAAC,oBAJd,CAKE,KAAK,CAAEb,IALT,CAME,QAAQ,CAAEQ,gBANZ,CAOE,SAAS,CAAC,8BAPZ,CAQE,SAAS,CAAC,GARZ,CAQgB,SAAS,CAAC,IAR1B,CASE,OAAO,CAAC,uDATV,CAUE,QAAQ,KAVV,EADF,cAaE,4BAAM,SAAS,CAAC,mBAAhB,CACM,EAAE,CAAC,kBADT,EAbF,cAgBE,6BACE,IAAI,CAAC,MADP,CAEE,EAAE,CAAC,mBAFL,CAGE,IAAI,CAAC,OAHP,CAIE,WAAW,CAAC,kDAJd,CAKE,KAAK,CAAEN,WALT,CAME,QAAQ,CAAEU,uBANZ,CAOE,SAAS,CAAC,qCAPZ,CAQE,SAAS,CAAC,GARZ,CAQgB,SAAS,CAAC,KAR1B,CASE,OAAO,CAAC,wDATV,CAUE,QAAQ,KAVV,EAhBF,cA4BE,4BAAM,SAAS,CAAC,mBAAhB,CACM,EAAE,CAAC,yBADT,EA5BF,CARJ,EADF,CA4CD","sourcesContent":["import PopupWithForm from \"./PopupWithForm\";\nimport React from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nexport default function EditProfilePopup(props) {\n  const [name, setName] = React.useState('');\n  const [description, setDescription] = React.useState('');\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser]);\n\n  function handleNameChange(evt) {\n    setName(evt.target.value);\n  }\n\n  function handleDescriptionChange(evt) {\n    setDescription(evt.target.value);\n  }\n\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n\n    props.onUpdateUser({\n      name: name,\n      about: description\n    });\n  }\n\n  return(\n    <PopupWithForm\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n      name=\"profile\"\n      title=\"Редактировать профиль\"\n      button=\"Сохранить\"\n      children={(\n        <>\n          <input\n            type=\"text\"\n            id=\"name-input\"\n            name=\"name\"\n            placeholder=\"Имя\"\n            value={name}\n            onChange={handleNameChange}\n            className=\"form__input form__input_name\"\n            minLength=\"2\" maxLength=\"40\"\n            pattern=\"^[A-Za-zА-Яа-яЁё \\-]+$\"\n            required\n          />\n          <span className=\"form__input-error\"\n                id=\"name-input-error\">\n          </span>\n          <input\n            type=\"text\"\n            id=\"description-input\"\n            name=\"about\"\n            placeholder=\"Описание\"\n            value={description}\n            onChange={handleDescriptionChange}\n            className=\"form__input form__input_description\"\n            minLength=\"2\" maxLength=\"200\"\n            pattern=\"^[A-Za-zА-Яа-яЁё, \\-]+$\"\n            required\n          />\n          <span className=\"form__input-error\"\n                id=\"description-input-error\">\n          </span>\n        </>\n      )}\n    />\n  )\n}\n"]},"metadata":{},"sourceType":"module"}