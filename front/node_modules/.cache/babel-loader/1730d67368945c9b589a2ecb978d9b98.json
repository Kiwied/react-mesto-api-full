{"ast":null,"code":"import _slicedToArray from\"C:\\\\dev\\\\mesto-react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React from\"react\";import{Link,useHistory}from\"react-router-dom\";import{auth}from\"../utils/Auth\";export default function Register(props){var _React$useState=React.useState(1),_React$useState2=_slicedToArray(_React$useState,2),opacity=_React$useState2[0],setOpacity=_React$useState2[1];var _React$useState3=React.useState(''),_React$useState4=_slicedToArray(_React$useState3,2),password=_React$useState4[0],setPassword=_React$useState4[1];var _React$useState5=React.useState(''),_React$useState6=_slicedToArray(_React$useState5,2),email=_React$useState6[0],setEmail=_React$useState6[1];var history=useHistory();var linkStyle={color:'white',textDecoration:'none',transition:'opacity .15s linear',opacity:opacity};function handleMouseEnter(){setOpacity(0.6);}function handleMouseLeave(){setOpacity(1);}function handleLoginRedirect(){props.onHeaderChange('login');}function handleEmailChange(evt){setEmail(evt.target.value);}function handlePasswordChange(evt){setPassword(evt.target.value);}var handleSubmit=function handleSubmit(evt){evt.preventDefault();auth.register(password,email).then(function(res){if(res){setPassword('');setEmail('');props.onSigning('success');history.push('/signin');}else{props.onSigning('fail');console.log('Что то пошло не так');}}).finally(function(res){props.onSubmit();});};return/*#__PURE__*/React.createElement(\"main\",null,/*#__PURE__*/React.createElement(\"section\",{className:\"auth\"},/*#__PURE__*/React.createElement(\"form\",{className:\"auth-form\",onSubmit:handleSubmit},/*#__PURE__*/React.createElement(\"h2\",{className:\"auth-form__title\"},\"\\u0420\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044F\"),/*#__PURE__*/React.createElement(\"input\",{type:\"email\",placeholder:\"Email\",className:\"auth-form__input\",value:email,onChange:handleEmailChange,required:true}),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",placeholder:\"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\",className:\"auth-form__input\",value:password,onChange:handlePasswordChange,required:true}),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",className:\"auth-form__submit\",onClick:handleLoginRedirect},\"\\u0417\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\\u0441\\u044F\")),/*#__PURE__*/React.createElement(\"p\",{className:\"auth__redirect\"},\"\\u0423\\u0436\\u0435 \\u0437\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u044B? \",/*#__PURE__*/React.createElement(Link,{to:\"/signin\",style:linkStyle,onMouseEnter:handleMouseEnter,onMouseLeave:handleMouseLeave,onClick:handleLoginRedirect},\"\\u0412\\u043E\\u0439\\u0442\\u0438\"))));}","map":{"version":3,"sources":["C:/dev/mesto-react/src/components/Register.js"],"names":["React","Link","useHistory","auth","Register","props","useState","opacity","setOpacity","password","setPassword","email","setEmail","history","linkStyle","color","textDecoration","transition","handleMouseEnter","handleMouseLeave","handleLoginRedirect","onHeaderChange","handleEmailChange","evt","target","value","handlePasswordChange","handleSubmit","preventDefault","register","then","res","onSigning","push","console","log","finally","onSubmit"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { auth } from \"../utils/Auth\";\n\nexport default function Register(props) {\n  const [opacity, setOpacity] = React.useState(1);\n  const [password, setPassword] = React.useState('');\n  const [email, setEmail] = React.useState('');\n\n  const history = useHistory();\n\n  const linkStyle = {\n    color: 'white',\n    textDecoration: 'none',\n    transition: 'opacity .15s linear',\n    opacity: opacity\n  }\n\n  function handleMouseEnter() {\n    setOpacity(0.6);\n  }\n\n  function handleMouseLeave() {\n    setOpacity(1);\n  }\n\n  function handleLoginRedirect() {\n    props.onHeaderChange('login')\n  }\n\n  function handleEmailChange(evt) {\n    setEmail(evt.target.value);\n  }\n\n  function handlePasswordChange(evt) {\n    setPassword(evt.target.value);\n  }\n\n  const handleSubmit = (evt) => {\n    evt.preventDefault();\n    auth.register(password, email)\n      .then(res => {\n        if (res) {\n          setPassword('');\n          setEmail('');\n          props.onSigning('success')\n          history.push('/signin');\n        } else {\n          props.onSigning('fail')\n          console.log('Что то пошло не так');\n        }\n      })\n      .finally(res => {\n        props.onSubmit();\n      })\n  }\n\n  return (\n    <main>\n      <section className=\"auth\">\n\n        <form className=\"auth-form\"\n              onSubmit={handleSubmit}\n        >\n          <h2 className=\"auth-form__title\">Регистрация</h2>\n          <input\n            type=\"email\"\n            placeholder=\"Email\"\n            className=\"auth-form__input\"\n            value={email}\n            onChange={handleEmailChange}\n            required\n          />\n          <input\n            type=\"password\"\n            placeholder=\"Пароль\"\n            className=\"auth-form__input\"\n            value={password}\n            onChange={handlePasswordChange}\n            required\n          />\n          <button type=\"submit\"\n                  className=\"auth-form__submit\"\n                  onClick={handleLoginRedirect}\n          >\n            Зарегистрироваться\n          </button>\n        </form>\n\n        <p className=\"auth__redirect\">\n          Уже зарегистрированы? {<Link to=\"/signin\"\n                                       style={linkStyle}\n                                       onMouseEnter={handleMouseEnter}\n                                       onMouseLeave={handleMouseLeave}\n                                       onClick={handleLoginRedirect}\n        >\n          Войти\n        </Link>}\n        </p>\n      </section>\n    </main>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}